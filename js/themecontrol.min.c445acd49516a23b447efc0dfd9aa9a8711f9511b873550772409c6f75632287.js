let toggleID="#themeToggle",themeCurr="--light-",themeProps=[];function initTheme(){populateThemeProps(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(themeCurr="--dark-");let e=localStorage.getItem("themeCurr");e&&switchTheme(e)}function initToggle(){let e=document.querySelector(toggleID);e!==null&&(themeCurr==="--dark-"&&(e.firstElementChild.checked=!0),e.addEventListener("click",t=>{t.preventDefault(),switchTheme(),e.firstElementChild.checked=!e.firstElementChild.checked,localStorage.setItem("themeCurr",themeCurr),e.firstElementChild.checked?(e.classList.add("checkbox-sunmoon-anim"),e.classList.remove("checkbox-sunmoon-anim-r")):(e.classList.remove("checkbox-sunmoon-anim"),e.classList.add("checkbox-sunmoon-anim-r"))}),e.removeChild(e.lastElementChild))}function populateThemeProps(){let e=[...document.styleSheets].filter(e=>new URL(e.href).origin===window.location.origin);const t=[];e=e.forEach(e=>{for(let n of e.cssRules)if(n.selectorText===":root"){t.push(n.style);break}});for(let e of t)for(let t of e)if(t.slice(0,8)==="--theme-"){let e=t.slice(8);themeProps.push(e)}}function switchTheme(e){if(e!==themeCurr){const e=document.querySelector(":root"),t=getComputedStyle(e);themeCurr=themeCurr==="--light-"?"--dark-":"--light-";for(let t of themeProps){let n="--theme-"+t,s="var("+themeCurr+t+")";e.style.setProperty(n,s)}}}